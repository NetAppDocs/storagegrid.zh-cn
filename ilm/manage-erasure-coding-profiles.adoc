---
permalink: ilm/manage-erasure-coding-profiles.html 
sidebar: sidebar 
keywords: rename erasure-coding profile, ec profile 
summary: 您可以查看纠删编码配置文件的详细信息、并根据需要重命名配置文件。如果纠删编码配置文件当前未在任何ILM规则中使用、则可以停用该配置文件。 
---
= 管理纠删编码配置文件
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以查看纠删编码配置文件的详细信息、并根据需要重命名配置文件。如果纠删编码配置文件当前未在任何ILM规则中使用、则可以停用该配置文件。

.开始之前
* 您已使用登录到网格管理器link:../admin/web-browser-requirements.html["支持的 Web 浏览器"]。
* 您拥有link:../admin/admin-group-permissions.html["所需的访问权限"]。




== 查看纠删编码配置文件详细信息

您可以查看纠删编码配置文件的详细信息、以确定其状态、使用的纠删编码方案以及其他信息。

.步骤
. 选择*配置* > *系统* > *擦除编码*。
. 选择配置文件。此时将显示配置文件的详细信息页面。
. (可选)查看ILM规则选项卡、查看使用配置文件的ILM规则列表以及使用这些规则的ILM策略。
. (可选)查看存储节点选项卡、以了解有关配置文件存储池中每个存储节点的详细信息、例如存储节点所在的站点以及存储使用情况。




== 重命名纠删编码配置文件

您可能需要重命名纠删编码配置文件、使其更清楚地显示该配置文件的功能。

.步骤
. 选择*配置* > *系统* > *擦除编码*。
. 选择要重命名的配置文件。
. 选择 * 重命名 * 。
. 为纠删编码配置文件输入一个唯一名称。
+
纠删编码配置文件名称会附加到ILM规则放置指令中的存储池名称中。

+

NOTE: 纠删编码配置文件名称必须唯一。如果您使用现有配置文件的名称，则会发生验证错误，即使该配置文件已停用也是如此。

. 选择 * 保存 * 。




== 停用纠删编码配置文件

如果您不再计划使用纠删编码配置文件、并且该配置文件当前未在任何ILM规则中使用、则可以停用该配置文件。


TIP: 确认当前未执行任何经过删除编码的数据修复操作或停用过程。如果在执行其中任一操作期间尝试停用纠删编码配置文件、则会返回错误消息。

.关于此任务
如果满足以下任一条件、StorageGRID将阻止您停用纠删编码配置文件：

* 纠删编码配置文件当前在ILM规则中使用。
* 纠删编码配置文件不再用于任何ILM规则、但该配置文件的对象数据和奇偶校验片段仍然存在。


.步骤
. 选择*配置* > *系统* > *擦除编码*。
. 在Active选项卡上、查看*状态*列、确认要停用的纠删编码配置文件未在任何ILM规则中使用。
+
如果纠删编码配置文件在任何ILM规则中使用、则无法停用该配置文件。在此示例中、至少在一个ILM规则中使用2+1数据中心1配置文件。

+
image::../media/ec_profile_used_in_ilm_rule.png[ILM 规则中使用的 EC 配置文件]

. 如果在 ILM 规则中使用配置文件，请执行以下步骤：
+
.. 选择 * ILM * > * 规则 * 。
.. 选择每个规则并查看保留图、以确定该规则是否使用要停用的纠删编码配置文件。
.. 如果ILM规则使用要停用的纠删编码配置文件、请确定是否在任何ILM策略中使用此规则。
.. 根据纠删编码配置文件的使用位置、完成表中的其他步骤。
+
[cols="2a,4a,1a"]
|===
| 此配置文件已在何处使用？ | 停用配置文件前要执行的其他步骤 | 请参见这些附加说明 


 a| 
从不在任何 ILM 规则中使用
 a| 
无需执行其他步骤。继续执行此操作步骤。
 a| 
无 _



 a| 
在从未在任何 ILM 策略中使用过的 ILM 规则中
 a| 
... 编辑或删除所有受影响的 ILM 规则。如果编辑规则、请删除使用纠删编码配置文件的所有放置。
... 继续执行此操作步骤。

 a| 
link:working-with-ilm-rules-and-ilm-policies.html["使用 ILM 规则和 ILM 策略"]



 a| 
在当前处于活动状态的ILM策略中的ILM规则中
 a| 
... 克隆策略。
... 删除使用纠删编码配置文件的ILM规则。
... 添加一个或多个新 ILM 规则以确保对象受到保护。
... 保存，模拟和激活新策略。
... 等待应用新策略，并根据添加的新规则将现有对象移动到新位置。
+
* 注意： * 根据对象数量和 StorageGRID 系统的大小， ILM 操作可能需要数周甚至数月才能根据新的 ILM 规则将对象移动到新位置。

+
虽然您可以安全地尝试停用仍与数据关联的纠删编码配置文件、但停用操作将失败。如果配置文件尚未准备好停用，则会显示一条错误消息通知您。

... 编辑或删除从策略中删除的规则。如果编辑规则、请删除使用纠删编码配置文件的所有放置。
... 继续执行此操作步骤。

 a| 
link:creating-ilm-policy.html["创建ILM策略"]

link:working-with-ilm-rules-and-ilm-policies.html["使用 ILM 规则和 ILM 策略"]



 a| 
在ILM策略中的当前ILM规则中
 a| 
... 编辑策略。
... 删除使用纠删编码配置文件的ILM规则。
... 添加一个或多个新的 ILM 规则以确保所有对象均受保护。
... 保存策略。
... 编辑或删除从策略中删除的规则。如果编辑规则、请删除使用纠删编码配置文件的所有放置。
... 继续执行此操作步骤。

 a| 
link:creating-ilm-policy.html["创建ILM策略"]

link:working-with-ilm-rules-and-ilm-policies.html["使用 ILM 规则和 ILM 策略"]

|===
.. 刷新纠删编码配置文件页面、以确保此配置文件未在ILM规则中使用。


. 如果在 ILM 规则中未使用该配置文件，请选择单选按钮并选择 * 停用 * 。此时将显示停用纠删编码配置文件对话框。
+

TIP: 您可以同时选择多个要停用的配置文件、只要每个配置文件未在任何规则中使用即可。

. 如果确实要停用此配置文件，请选择 * 停用 * 。


.结果
* 如果StorageGRID能够停用纠删编码配置文件、则其状态为已停用。您不能再为任何 ILM 规则选择此配置文件。您无法重新激活已停用的配置文件。
* 如果 StorageGRID 无法停用此配置文件，则会显示一条错误消息。例如，如果对象数据仍与此配置文件关联，则会显示一条错误消息。您可能需要等待几周才能再次尝试停用过程。

