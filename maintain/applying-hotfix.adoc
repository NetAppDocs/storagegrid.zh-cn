---
permalink: maintain/applying-hotfix.html 
sidebar: sidebar 
keywords: storagegrid, hotfix, software update 
summary: 此修补程序会首先自动应用于主管理节点。然后，您必须批准将此修补程序应用于其他网格节点，直到所有节点运行相同的软件版本为止。您可以通过选择批准单个网格节点，网格节点组或所有网格节点来自定义批准顺序。 
---
= 应用修补程序
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
此修补程序会首先自动应用于主管理节点。然后，您必须批准将此修补程序应用于其他网格节点，直到所有节点运行相同的软件版本为止。您可以通过选择批准单个网格节点，网格节点组或所有网格节点来自定义批准顺序。

.开始之前
* 您已查看link:storagegrid-hotfix-procedure.html["应用修补程序的注意事项"]。
* 您具有配置密码短语。
* 您具有root访问权限或维护权限。


.关于此任务
* 您可以延迟向节点应用修补程序，但只有在将修补程序应用到所有节点之后，此修补程序过程才会完成。
* 在完成修补程序过程之前、您无法执行StorageGRID 软件升级或SANtricity OS更新。


.步骤
. 使用登录到网格管理器link:../admin/web-browser-requirements.html["支持的 Web 浏览器"]。
. 选择*维护* > *系统* > *软件更新*。
+
此时将显示软件更新页面。

+
image::../media/software_update_landing.png[软件更新登录页面]

. 选择 * 应用修补程序 * 。
+
此时将显示 StorageGRID 热修补程序页面。

+
image::../media/hotfix_choose_file.png[热修补程序选择文件]

. 选择从NetApp 支持站点 下载的修补程序文件。
+
.. 选择 * 浏览 * 。
.. 找到并选择文件。
+
`hotfix-install-_version_`

.. 选择 * 打开 * 。
+
已上传此文件。上传完成后，文件名将显示在详细信息字段中。

+

NOTE: 请勿更改文件名、因为它是验证过程的一部分。



. 在文本框中输入配置密码短语。
+
此时将启用 * 开始 * 按钮。

. 选择 * 开始 * 。
+
此时将显示一条警告，指出当主管理节点上的服务重新启动时，您的浏览器连接可能会暂时断开。

. 选择 * 确定 * 开始将此修补程序应用于主管理节点。
+
当修复程序启动时：

+
.. 运行修补程序验证，包括代码签名验证。
+

NOTE: 如果报告了任何错误，请予以解决，重新上传此修复程序文件，然后再次选择 * 启动 * 。

.. 此时将显示热修补程序安装进度表。
+
此表显示了网格中的所有节点以及每个节点的修补程序安装的当前阶段。表中的节点按类型(管理节点、网关节点和存储节点)进行分组。

.. 进度条完成后、主管理节点将显示为"完成"。
+
image::../media/hotfix_progress_table.png[修补程序进度表]



. 或者，也可以按 * 站点 * ， * 名称 * ， * 进度 * ， * 阶段 * 或 * 详细信息 * 按升序或降序对每个分组中的节点列表进行排序。或者，在 * 搜索 * 框中输入一个术语以搜索特定节点。
. 批准已准备好更新的网格节点。相同类型的已批准节点将一次升级一个。
+

CAUTION: 除非您确定某个节点已准备好进行更新、否则请勿批准该节点的修补程序。将此修补程序应用于网格节点后、此节点上的某些服务可能会重新启动。对于与节点通信的客户端，这些操作可能会导致发生原因 服务中断。

+
** 选择一个或多个 * 批准 * 按钮将一个或多个单独的节点添加到修补程序队列。
** 在每个分组中选择 * 全部批准 * 按钮，将所有类型相同的节点添加到修补程序队列。如果您在 * 搜索 * 框中输入了搜索条件，则 * 全部批准 * 按钮将适用场景 所有搜索条件选择的节点。
+

NOTE: 页面顶部的 * 全部批准 * 按钮批准页面上列出的所有节点，而分组表顶部的 * 全部批准 * 按钮仅批准该组中的所有节点。如果节点升级顺序非常重要，请一次批准一个节点或一组节点，并等待每个节点完成升级，然后再批准下一个节点。

** 选择页面顶部的顶级 * 全部批准 * 按钮，将网格中的所有节点添加到热修补程序队列。
+

NOTE: 您必须先完成 StorageGRID 热修补程序，然后才能启动其他软件更新。如果无法完成此修补程序，请联系技术支持。

** 选择 * 删除 * 或 * 全部删除 * 可从修补程序队列中删除一个节点或所有节点。
+
当此阶段进入"已排队"之后，*删除*按钮将隐藏，您无法再从修补程序进程中删除此节点。

+
image::../media/approve_all_progresstable.png[使用删除按钮执行修补程序进度]



. 请稍候，此修补程序将应用于每个已批准的网格节点。
+
在所有节点上成功安装此修复程序后，热修复程序安装进度表将关闭。绿色横幅显示了完成修补程序的日期和时间。

. 如果无法将此修补程序应用于任何节点，请查看每个节点的错误，解决问题描述 ，然后重复上述步骤。
+
只有在将此修补程序成功应用于所有节点之后，操作步骤 才会完成。您可以根据需要安全地重试此修复程序多次，直到其完成为止。


