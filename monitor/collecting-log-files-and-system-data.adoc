---
permalink: monitor/collecting-log-files-and-system-data.html 
sidebar: sidebar 
keywords: how to collect system data, how to collect logs 
summary: 您可以使用网格管理器检索 StorageGRID 系统的日志文件和系统数据（包括配置数据）。 
---
= 收集日志文件和系统数据
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以使用网格管理器检索 StorageGRID 系统的日志文件和系统数据（包括配置数据）。

.开始之前
* 您必须使用登录到主管理节点上的网格管理器link:../admin/web-browser-requirements.html["支持的 Web 浏览器"]。
* 您拥有 link:../admin/admin-group-permissions.html["特定访问权限"]。
* 您必须具有配置密码短语。


.关于此任务
您可以使用网格管理器link:logs-files-reference.html["日志文件"]从任意网格节点收集所选时间段内的、系统数据和配置数据。数据会收集并归档在 .tar.gz 文件中，然后可下载到本地计算机。

您也可以更改审核日志的目标并将审核信息发送到外部系统日志服务器。配置外部系统日志服务器后，仍会生成并存储审核记录的本地日志。请参阅。 link:../monitor/configure-audit-messages.html["配置审核消息和日志目标"]

.步骤
. 选择 * 支持 * > * 工具 * > * 日志 * 。
+
image::../media/support_logs_select_nodes.png[日志收集 UI 的屏幕截图]

. 选择要收集日志文件的网格节点。
+
您可以根据需要收集整个网格或整个数据中心站点的日志文件。

. 选择 * 开始时间 * 和 * 结束时间 * 以设置要包含在日志文件中的数据的时间范围。
+
如果选择很长的时间段或从大型网格中的所有节点收集日志，则日志归档可能会变得过大，无法存储在节点上，或者可能会变得过大，无法收集到主管理节点以供下载。如果发生这种情况，您必须使用一组较小的数据重新启动日志收集。

. 选择要收集的日志类型。
+
** * 应用程序日志 * ：技术支持最常用于故障排除的应用程序特定日志。收集的日志是可用应用程序日志的一部分。
** * 审核日志 * ：包含在正常系统操作期间生成的审核消息的日志。
** * 网络跟踪 * ：用于网络调试的日志。
** * Prometheus Database* ：所有节点上的服务的时间序列指标。


. 或者，也可以在 * 注释 * 文本框中输入有关要收集的日志文件的注释。
+
您可以使用这些注释提供有关提示您收集日志文件的问题的技术支持信息。您的注释将与有关日志文件收集的其他信息一起添加到名为的文件中 `info.txt`。该 `info.txt`文件将保存在日志文件归档包中。

. 在 * 配置密码短语 * 文本框中输入 StorageGRID 系统的配置密码短语。
. 选择 * 收集日志 * 。
+
提交新请求时，系统将删除先前收集的日志文件。

+
您可以使用日志页面监控每个网格节点的日志文件收集进度。

+
如果您收到有关日志大小的错误消息，请尝试收集较短时间段或较少节点的日志。

. 日志文件收集完成后，选择 * 下载 * 。
+
_.tar.gz_ 文件包含成功收集日志的所有网格节点中的所有日志文件。在组合的 _.tar.gz_ 文件中，每个网格节点有一个日志文件归档。



.完成后
如果需要，您可以稍后重新下载日志文件归档包。

您也可以选择 * 删除 * 以删除日志文件归档软件包并释放磁盘空间。下次收集日志文件时，系统会自动删除当前日志文件归档包。
