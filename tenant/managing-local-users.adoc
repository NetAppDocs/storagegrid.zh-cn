---
permalink: tenant/managing-local-users.html 
sidebar: sidebar 
keywords: how to create local tenant users, manage users 
summary: '您可以创建本地用户并将其分配给本地组，以确定这些用户可以访问哪些功能。租户管理器包括一个名为"root"的预定义本地用户。虽然您可以添加和删除本地用户、但不能删除root用户。' 
---
= 管理本地用户
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以创建本地用户并将其分配给本地组，以确定这些用户可以访问哪些功能。租户管理器包括一个名为"root"的预定义本地用户。虽然您可以添加和删除本地用户、但不能删除root用户。


NOTE: 如果为StorageGRID 系统启用了单点登录(SSO)、则本地用户将无法登录到租户管理器或租户管理API、尽管他们可以根据组权限使用客户端应用程序访问租户的资源。

.开始之前
* 您已使用登录到租户管理器link:../admin/web-browser-requirements.html["支持的 Web 浏览器"]。
* 您属于具有的用户组link:tenant-management-permissions.html["root访问权限"]。
* 如果您的租户帐户具有*使用网link:grid-federation-account-clone.html["克隆租户组和用户"]格联合连接*权限，则您已查看的工作流和注意事项，并且您已登录到租户的源网格。




== [[crea-user]]创建本地用户

您可以创建本地用户并将其分配给一个或多个本地组、以控制其访问权限。

不属于任何组的S3用户不具有管理权限或应用了S3组策略。这些用户可能已通过存储分段策略授予 S3 存储分段访问权限。

不属于任何组的Swift用户没有管理权限或Swift容器访问权限。



=== 访问创建用户向导

.步骤
. 选择 * 访问管理 * > * 用户 * 。
+
如果您的租户帐户具有*使用网格联合连接*权限、则蓝色横幅指示这是租户的源网格。您在此网格上创建的任何本地用户都将克隆到连接中的另一个网格。

+
image::../media/grid-federation-tenant-user-banner.png[如果这是租户源网格、则显示"用户"页面上的蓝色横幅]

. 选择 * 创建用户 * 。




=== 输入凭据

.步骤
. 对于*输入用户凭据*步骤，请填写以下字段。
+
[cols="1a,3a"]
|===
| 字段 | 说明 


 a| 
全名
 a| 
此用户的全名、例如、人员的名字和姓氏或应用程序的名称。



 a| 
用户名
 a| 
此用户用于登录的名称。用户名必须唯一、并且无法更改。

*注意*：如果您的租户帐户具有*使用网格联合连接*权限、则如果目标网格上的租户已存在相同的*用户名*、则会发生克隆错误。



 a| 
密码和确认密码
 a| 
用户在登录时最初使用的密码。



 a| 
拒绝访问
 a| 
选择*是*可防止此用户登录到租户帐户、即使他们可能仍属于一个或多个组也是如此。

例如，选择*Yes*可暂时暂停用户的登录能力。

|===
. 选择 * 继续 * 。




=== 分配给组

.步骤
. 将用户分配给一个或多个本地组、以确定他们可以执行哪些任务。
+
将用户分配到组是可选的。如果您愿意、可以在创建或编辑组时选择用户。

+
不属于任何组的用户将无管理权限。权限是累积的。用户将对其所属的所有组拥有所有权限。请参阅。 link:tenant-management-permissions.html["租户管理权限"]

. 选择 * 创建用户 * 。
+
如果您的租户帐户具有*使用网格联合连接*权限、而您位于租户的源网格上、则新的本地用户将克隆到租户的目标网格。在用户的详细信息页面的"概述"部分中、*成功*显示为*克隆状态*。

. 选择*完成*返回用户页。




== 查看或编辑本地用户

.步骤
. 选择 * 访问管理 * > * 用户 * 。
. 查看"用户"页面上提供的信息、其中列出了此租户帐户的所有本地和联盟用户的基本信息。
+
如果租户帐户具有*使用网格联合连接*权限、而您正在租户的源网格上查看用户：

+
** 横幅消息指示、如果您编辑或删除某个用户、您所做的更改将不会同步到其他网格。
** 根据需要、横幅消息会指示是否未将用户克隆到目标网格上的租户。您可以<<clone-users,重试失败的用户克隆>>。


. 如果要更改用户的全名：
+
.. 选中用户对应的复选框。
.. 选择 * 操作 * > * 编辑全名 * 。
.. 输入新名称。
.. 选择*保存更改。*


. 如果要查看更多详细信息或进行其他编辑、请执行以下操作之一：
+
** 选择用户名。
** 选中用户对应的复选框，然后选择*Actions*>*查看用户详细信息*。


. 查看概述部分、其中显示了每个用户的以下信息：
+
** 全名
** 用户名
** 用户类型
** 拒绝访问
** 访问模式
** 组成员资格
** 如果租户帐户具有*使用网格联合连接*权限且您正在查看租户源网格上的用户、则添加以下字段：
+
*** 克隆状态：*成功*或*失败*
*** 蓝色横幅、表示如果编辑此用户、您所做的更改不会同步到其他网格。




. 根据需要编辑用户设置。有关输入内容的详细信息、请参见<<create-user,创建本地用户>>。
+
.. 在“概述”部分中，通过选择名称或编辑图标更改全名image:../media/icon_edit_tm.png["编辑图标"]。
+
您不能更改用户名。

.. 在*密码*选项卡上，更改用户的密码，然后选择*保存更改*。
.. 在*访问*选项卡上，选择*否*允许用户登录，或选择*是*阻止用户登录。然后，选择*保存更改*。
.. 在*Access keys*选项卡上，选择*Create key*并按照的说明link:creating-another-users-s3-access-keys.html["正在创建其他用户的S3访问密钥"]进行操作。
.. 在*组*选项卡上，选择*编辑组*将用户添加到组或从组中删除用户。然后，选择*保存更改*。


. 确认您为每个更改的部分选择了*保存更改*。




== 本地用户重复

您可以复制本地用户以更快地创建新用户。


NOTE: 如果您的租户帐户具有*使用网格联合连接*权限、而您从租户的源网格复制了一个用户、则复制的用户将克隆到租户的目标网格。

.步骤
. 选择 * 访问管理 * > * 用户 * 。
. 选中要复制的用户对应的复选框。
. 选择 * 操作 * > * 复制用户 * 。
. 有关输入内容的详细信息、请参见<<create-user,创建本地用户>>。
. 选择 * 创建用户 * 。




== [[CLONE USERS]]重试用户克隆

重试失败的克隆：

. 选择用户名下方指示_(克隆失败)_的每个用户。
. 选择*Actions*>*Clone Users *。
. 从要克隆的每个用户的详细信息页面查看克隆操作的状态。


有关更多信息，请参见link:grid-federation-account-clone.html["克隆租户组和用户"]。



== 删除一个或多个本地用户

您可以永久删除一个或多个不再需要访问StorageGRID 租户帐户的本地用户。


NOTE: 如果您的租户帐户具有*使用网格联合连接*权限、而您删除了本地用户、则StorageGRID 不会删除其他网格上的相应用户。如果需要使此信息保持同步、则必须从两个网格中删除同一用户。


NOTE: 您必须使用联合身份源删除联合用户。

.步骤
. 选择 * 访问管理 * > * 用户 * 。
. 选中要删除的每个用户对应的复选框。
. 选择*Actions*>*Delete user*或*Actions*>*Delete user*。
+
此时将显示确认对话框。

. 选择*删除用户*或*删除用户*。

