---
permalink: tenant/manage-groups.html 
sidebar: sidebar 
keywords: how to view and edit tenant groups, manage groups, duplicate group, remove group, edit group 
summary: 根据需要管理租户组以查看、编辑或复制组等。 
---
= 管理组
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
根据需要管理租户组以查看、编辑或复制组等。

.开始之前
* 您已使用登录到租户管理器link:../admin/web-browser-requirements.html["支持的 Web 浏览器"]。
* 您属于具有的用户组link:tenant-management-permissions.html["root访问权限"]。




== 查看或编辑组

您可以查看和编辑每个组的基本信息和详细信息。

.步骤
. 选择“访问管理”>“组”。
. 查看"组"页面上提供的信息、其中列出了此租户帐户的所有本地组和联盟组的基本信息。
+
如果租户帐户具有*使用网格联合连接*权限、而您正在查看租户源网格上的组：

+
** 横幅消息指示、如果您编辑或删除某个组、您所做的更改将不会同步到其他网格。
** 根据需要、横幅消息会指示是否未将组克隆到目标网格上的租户。您可能会<<clone-groups,重试组克隆>>失败。


. 如果要更改组的名称：
+
.. 选中组对应的复选框。
.. 选择 * 操作 * > * 编辑组名称 * 。
.. 输入新名称。
.. 选择*保存更改。*


. 如果要查看更多详细信息或进行其他编辑、请执行以下操作之一：
+
** 选择组名称。
** 选中组对应的复选框，然后选择*Actions*>*查看组详细信息*。


. 查看概述部分、其中显示了每个组的以下信息：
+
** 显示名称
** 唯一名称
** 键入
** 访问模式
** 权限
** S3策略
** 此组中的用户数
** 如果租户帐户具有*使用网格联合连接*权限且您正在查看租户源网格上的组、则添加以下字段：
+
*** 克隆状态：*成功*或*失败*
*** 蓝色横幅、表示编辑或删除此组时、您所做的更改不会同步到其他网格。




. 根据需要编辑组设置。参考link:creating-groups-for-s3-tenant.html["为 S3 租户创建组"]了解有关输入内容的详细信息。
+
.. 在“概述”部分中，通过选择名称或编辑图标来更改显示名称image:../media/icon_edit_tm.png["编辑图标"]。
.. 在*组权限*选项卡上，更新权限，然后选择*保存更改*。
.. 在*组策略*选项卡上，进行任何更改，然后选择*保存更改*。
+
根据需要选择不同的 S3 组策略或输入自定义策略的 JSON 字符串。



. 要将一个或多个现有本地用户添加到组、请执行以下操作：
+
.. 选择用户选项卡。
+
image::../media/manage_users.png[管理用户]

.. 选择*添加用户*。
.. 选择要添加的现有用户，然后选择*添加用户*。
+
右上角将显示一条成功消息。



. 要从组中删除本地用户、请执行以下操作：
+
.. 选择用户选项卡。
.. 选择*删除用户*。
.. 选择要去除的用户，然后选择*Remove Users *。
+
右上角将显示一条成功消息。



. 确认您为每个更改的部分选择了*保存更改*。




== 重复的组

您可以复制现有组、以更快地创建新组。


NOTE: 如果您的租户帐户具有*使用网格联合连接*权限、而您从租户的源网格复制了一个组、则复制的组将克隆到租户的目标网格。

.步骤
. 选择“访问管理”>“组”。
. 选中要复制的组对应的复选框。
. 选择 * 操作 * > * 复制组 * 。
. 看link:creating-groups-for-s3-tenant.html["为 S3 租户创建组"]了解有关输入内容的详细信息。
. 选择 * 创建组 * 。




== [[CLONE GROUP ]]重试组克隆

重试失败的克隆：

. 选择组名称下方指示_(克隆失败)_的每个组。
. 选择*Actions*>*Clone Groups*。
. 从要克隆的每个组的详细信息页面查看克隆操作的状态。


有关更多信息，请参见link:grid-federation-account-clone.html["克隆租户组和用户"]。



== 删除一个或多个组

您可以删除一个或多个组。仅属于已删除组的任何用户将无法再登录到租户管理器或使用租户帐户。


NOTE: 如果您的租户帐户具有*使用网格联合连接*权限、而您删除了某个组、则StorageGRID 不会删除另一个网格上的相应组。如果需要保持此信息同步、则必须从两个网格中删除同一个组。

.步骤
. 选择“访问管理”>“组”。
. 选中要删除的每个组对应的复选框。
. 选择*Actions*>*Delete group*或*Actions*>*Delete Groups*。
+
此时将显示确认对话框。

. 选择*删除组*或*删除组*。




== 设置 AssumeRole

.开始之前
您必须是管理员才能设置 AssumeRole。

.关于此任务
要设置 AssumeRole，请创建要假定的目标组（如果该组尚不存在）。编辑该组的 S3 策略以指定假设该组允许的操作。编辑组的 S3 信任策略以指定允许使用 AssumeRole API 承担该组的可信用户。

假设该组创建的临时安全凭证在有限的时间内有效。会话时长为15分钟到12小时，默认会话时长为1小时。当您从组的 S3 信任策略中删除用户时，该用户将无法再承担该组。

.步骤
. 选择“访问管理”>“组”。
. 单击群组名称。
. 选择“*S3 信任策略*”选项卡。
. 添加您的 S3 信任策略，包括可以执行 AssumeRole 的用户列表。
. 选择 * 保存更改 * 。
. 选择“*S3 组策略*”选项卡。
. 编辑 S3 策略以仅为该组的 S3 信任策略中添加的受信任用户指定所需的 S3 操作。
. 选择 * 保存更改 * 。




=== AssumeRole S3 信任策略示例

[listing]
----
{
    "Statement": [
        {
            "Effect": "Allow",
            "Action": "sts:AssumeRole",
            "Principal": {
                "AWS": [
                    "urn:sgws:identity::1234567890:user/user1",
                    "arn:aws:iam::1234567890:user/user2"
                ]
            }
        }
    ]
}
----
配置完成后，S3 信任策略中列出的用户可以执行 AssumeRole 并接收凭证。最终的权限由组策略、bucket策略、session策略决定。有关更多信息，请参阅link:../s3/use-access-policies.html["使用访问策略"] 。
