---
permalink: tenant/deleting-s3-bucket-objects.html 
sidebar: sidebar 
keywords: how to delete bucket objects, empty bucket 
summary: 您可以使用租户管理器删除一个或多个存储分段中的对象。 
---
= 删除存储分段中的对象
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以使用租户管理器删除一个或多个存储分段中的对象。

.注意事项和要求
在执行这些步骤之前、请注意以下事项：

* 删除存储分段中的对象后、StorageGRID 会从StorageGRID 系统中的所有节点和站点中永久删除每个选定存储分段中的所有对象和所有对象版本。StorageGRID 还会删除任何相关的对象元数据。您将无法恢复此信息。
* 根据对象数、对象副本数和并发操作数、删除存储分段中的所有对象可能需要几分钟、几天甚至几周时间。
* 如果存储分段具有link:using-s3-object-lock.html["已启用S3对象锁定"]，则它可能会在_yrees_状态下保持*Deleting objects: read-only。
+

TIP: 使用S3对象锁定的存储分段将保持*删除对象：只读*状态、直到达到所有对象的保留日期并删除任何合法保留为止。

* 删除对象时，存储分段的状态为*删除对象：只读*。在这种状态下、您不能向存储分段添加新对象。
* 删除所有对象后、存储分段将保持只读状态。您可以执行以下操作之一：
+
** 将存储分段恢复为写入模式、并将其用于新对象
** 删除存储分段
** 保持存储分段处于只读模式、以保留其名称供将来使用


* 如果存储分段启用了对象版本控制、则可以使用删除存储分段中的对象操作删除在StorageGRID 11.8或更高版本中创建的标记。
* 如果存储分段启用了对象版本控制、则删除对象操作不会删除在StorageGRID 11.7或更早版本中创建的删除标记。有关删除存储分段中对象的信息，请参见link:../ilm/how-objects-are-deleted.html#delete-s3-versioned-objects["如何删除受版本控制的 S3 对象"]。
* 如果使用link:grid-federation-manage-cross-grid-replication.html["跨网格复制"]，请注意以下事项：
+
** 使用此选项不会从其他网格的存储分段中删除任何对象。
** 如果为源分段选择此选项，则在将对象添加到另一网格上的目标分段时，将触发*跨网格复制失败*警报。如果无法保证没有人会在删除所有存储分段对象之前将对象添加到另一网格上的存储分link:../tenant/grid-federation-manage-cross-grid-replication.html["禁用跨网格复制"]段中。




.开始之前
* 您已使用登录到租户管理器link:../admin/web-browser-requirements.html["支持的 Web 浏览器"]。
* 您属于具有的用户组link:tenant-management-permissions.html["root访问权限"]。此权限将覆盖组或存储分段策略中的权限设置。


.步骤
. 从信息板中选择*查看存储分段*，或选择*存储(S3)*>*存储分段*。
+
此时将显示 " 分段 " 页面，其中会显示所有现有的 S3 分段。

. 使用*操作*菜单或特定存储分段的详细信息页面。
+
[role="tabbed-block"]
====
.操作菜单
--
.. 选中要从中删除对象的每个存储分段对应的复选框。
.. 选择*操作*>*删除存储分段中的对象*。


--
.详细信息页面
--
.. 选择存储分段名称以显示其详细信息。
.. 选择*删除存储分段中的对象*。


--
====
. 出现确认对话框时，查看详细信息，输入*Yes*，然后选择*OK*。
. 等待删除操作开始。
+
几分钟后：

+
** 此时、存储分段详细信息页面上将显示一个黄色状态横幅。进度条表示已删除的对象百分比。
** 在存储分段详细信息页面上、*(只读)*显示在存储分段名称后面。
** *(删除对象：只读)*出现在"分段"页的分段名称旁边。


+
image::../media/delete-bucket-objects-in-progress.png[显示要删除的存储分段对象的屏幕截图]

. 在运行操作时，根据需要选择*停止删除对象*以暂停进程。然后，选择*删除存储分段中的对象*以恢复此过程。
+
选择*停止删除对象*时，存储分段将返回到写入模式；但是，您无法访问或恢复已删除的任何对象。

. 等待此操作完成。
+
当存储分段为空时、状态横幅将更新、但存储分段仍保持只读状态。

+
image::../media/delete-bucket-objects-complete.png[显示已删除的所有存储分段对象的屏幕截图]

. 执行以下操作之一：
+
** 退出页面以使存储分段保持只读模式。例如、您可以将一个空分段保留为只读模式、以保留该分段名称供将来使用。
** 删除存储分段。您可以选择*删除存储分段*来删除单个存储分段，也可以返回“存储分段”页面并选择*操作*>*删除*存储分段来删除多个存储分段。
+

NOTE: 如果在删除所有对象后无法删除分版本存储分段、则删除标记可能会保留下来。要删除存储分段、必须删除所有剩余的删除标记。

** 将存储分段恢复为写入模式、并可选择将其用于新对象。您可以为单个存储分段选择*停止删除对象*，也可以返回到“存储分段”页面，并为多个存储分段选择*操作*>*停止删除对象*。



